# 前言

# 1. 基础篇

## 1. 各平台下的 Vim 安装方法

安装macvim:

```
if [[ $PATH != "$HOME/bin"* ]]; then
  PATH=~/bin:/usr/local/bin:/usr/local/sbin:`echo $PATH|sed -e "s!:$HOME/bin!!" -e 's!:/usr/local/bin!!'`
fi
```

然后

```
brew install macvim
```

## 2. 基本概念和基础命令

![img](https://static001.geekbang.org/resource/image/76/a1/76910d1a16ed737c42078dd1255124a1.png)

你现在应该已经掌握了以下这些：

“:q!”：退出 Vim

“:wq”：存盘退出

“:s”：执行替换

“:!”：执行外部命令

“:edit”（一般缩写为 “:e”）：编辑文件

“:w”：写文件

“:r”：读文件

“:help”：查看帮助使用键 

Ctrl-D 和 Tab 来进行命令行补全



我们需要知道，Vim 有以下四种主要模式:

- 正常（normal）模式（也称为普通模式），缺省的编辑模式；如果不加特殊说明，一般提到的命令都直接在正常模式下输入；在任何其他模式中，都可以通过键盘上的 Esc 键回到正常模式。
- 插入（insert）模式，输入文本时使用；比如在正常模式下键入 i（insert）或 a（append）即可进入插入模式。
- 可视（visual）模式，用于选定文本块；教程中已经提到可以用键 v（小写）来按字符选定，Vim 里也提供其他不同的选定方法，包括按行和按列块。
- 命令行（command-line）模式，用于执行较长、较复杂的命令；在正常模式下键入冒号（:）即可进入该模式；使用斜杠（/）和问号（?）开始搜索也算作命令行模式。命令行模式下的命令要输入回车键（Enter）才算完成。

## 3. 更多常用命令

Vim 里的基本光标移动是通过 h、j、k、l 四个键实现的。

Vim 跳转到行首的命令是 0，跳转到行尾的命令是 $。

![img](https://static001.geekbang.org/resource/image/b5/ff/b5180a6be6e04a4d486b159a265b69ff.gif)

( 和 ) 移到上一句和下一句

{ 和 } 移到上一段和下一段

![img](https://static001.geekbang.org/resource/image/ae/57/aeaba065b958a9424c861fdf0f154857.gif)

gg 和 G 跳转到开头和结尾行（小区别：G 是跳转到最后一行的第一个字符，而不是最后一个字符。

**文本修改**：

- d 加动作来进行删除（dd 删除整行）；D 则相当于 d$，删除到行尾。
- c 加动作来进行修改（cc 修改整行）；C 则相当于 c$，删除到行尾然后进入插入模式。
- s 相当于 cl，删除一个字符然后进入插入模式；S 相当于 cc，替换整行的内容。
- i 在当前字符前面进入插入模式；I 则相当于 ^i，把光标移到行首非空白字符上然后进入插入模式。
- a 在当前字符后面进入插入模式；A 相当于 $a，把光标移到行尾然后进入插入模式。
- o 在当前行下方插入一个新行，然后在这行进入插入模式；O 在当前行上方插入一个新行，然后在这行进入插入模式。
- r 替换光标下的字符；R 则进入替换模式，每次按键（直到 ）替换一个字符。
- u 撤销最近的一个修改动作；U 撤销当前行上的所有修改。

**文本对象选择**：

